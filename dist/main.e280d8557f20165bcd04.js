(()=>{"use strict";var e,n={313:(e,n,r)=>{var t=r(437),i=r(880);const a=["./assets/images/hero-image-01.jpg","./assets/images/hero-image-02.jpg","./assets/images/hero-image-03.jpg"],o=new t.JeP({alpha:!0});o.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(o.domElement);const s=new t.Z58,u=new t.ubm(70,window.innerWidth/window.innerHeight,.1,100);function c(){const e=window.innerWidth,n=window.innerHeight;o.setSize(e,n);const r=e/n;u.aspect=r,u.updateProjectionMatrix(),material&&(material.uniforms.uPlaneAspect.value=r)}u.position.z=2,async function(){const e=await async function(e){const n=new t.Tap,r=e.map((e=>new Promise((r=>n.load(e,(e=>r(e)))))));return Promise.all(r)}(a),n=await new Promise((e=>(new t.Tap).load("./assets/textures/fluid.jpg",e)));let r=0;const v=new t.BKk({uniforms:{currentImage:{value:e[r]},nextImage:{value:e[(r+1)%e.length]},disp:{value:n},dispFactor:{value:0},uImageAspect:{value:1699/597},uPlaneAspect:{value:window.innerWidth/window.innerHeight}},vertexShader:"      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n      }",fragmentShader:"varying vec2 vUv;\nuniform sampler2D currentImage;\nuniform sampler2D nextImage;\nuniform sampler2D disp;\nuniform float dispFactor;\nuniform float uImageAspect;\nuniform float uPlaneAspect;\n\nvoid main() {\n    vec2 ratio = vec2(\n        min(uPlaneAspect / uImageAspect, 1.0),\n        min((1.0 / uPlaneAspect) / (1.0 / uImageAspect), 1.0)\n    );\n    vec2 fixedUv = vec2(\n        (vUv.x - 0.5) * ratio.x + 0.5,\n        (vUv.y - 0.5) * ratio.y + 0.5\n    );\n    vec2 uv = fixedUv;\n    vec4 dispMap = texture2D(disp, uv);\n    // ディスプレイスメント値を[-1, 1]の範囲に調整\n    vec2 dispValue = dispMap.rg * 2.0 - 1.0;\n    vec2 calcPosition = uv + dispValue * (1.0 - dispFactor) * 0.9;\n\n    vec4 _currentImage = texture2D(currentImage, fixedUv);\n    vec4 _nextImage = texture2D(nextImage, calcPosition);\n\n    vec4 finalTexture = mix(_currentImage, _nextImage, dispFactor);\n    gl_FragColor = finalTexture;\n}\n",transparent:!0}),l=new t.bdM(2,window.innerHeight/window.innerWidth*2),d=new t.eaF(l,v);s.add(d),window.addEventListener("resize",c);const m=()=>{requestAnimationFrame(m),o.render(s,u)};m(),setInterval((function(){const n=(r+1)%e.length;v.uniforms.nextImage.value=e[n],i.os.to(v.uniforms.dispFactor,{value:1,duration:1,ease:"power2.inOut",onComplete:()=>{v.uniforms.currentImage.value=e[n],v.uniforms.nextImage.value=e[(n+1)%e.length],v.uniforms.dispFactor.value=0,r=n}})}),3e3)}().catch((e=>console.error(e)))}},r={};function t(e){var i=r[e];if(void 0!==i)return i.exports;var a=r[e]={exports:{}};return n[e](a,a.exports,t),a.exports}t.m=n,e=[],t.O=(n,r,i,a)=>{if(!r){var o=1/0;for(v=0;v<e.length;v++){for(var[r,i,a]=e[v],s=!0,u=0;u<r.length;u++)(!1&a||o>=a)&&Object.keys(t.O).every((e=>t.O[e](r[u])))?r.splice(u--,1):(s=!1,a<o&&(o=a));if(s){e.splice(v--,1);var c=i();void 0!==c&&(n=c)}}return n}a=a||0;for(var v=e.length;v>0&&e[v-1][2]>a;v--)e[v]=e[v-1];e[v]=[r,i,a]},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={792:0};t.O.j=n=>0===e[n];var n=(n,r)=>{var i,a,[o,s,u]=r,c=0;if(o.some((n=>0!==e[n]))){for(i in s)t.o(s,i)&&(t.m[i]=s[i]);if(u)var v=u(t)}for(n&&n(r);c<o.length;c++)a=o[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(v)},r=self.webpackChunkthree_shader_env01=self.webpackChunkthree_shader_env01||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var i=t.O(void 0,[356],(()=>t(313)));i=t.O(i)})();
(()=>{"use strict";var e,n={313:(e,n,r)=>{var a=r(437),t=r(880);const i=["./assets/images/hero-image-01.jpg","./assets/images/hero-image-02.jpg","./assets/images/hero-image-03.jpg"],o=new a.JeP({alpha:!0});o.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(o.domElement);const s=new a.Z58,u=new a.ubm(70,window.innerWidth/window.innerHeight,.1,100);u.position.z=2,async function(){const e=await async function(e){const n=new a.Tap,r=e.map((e=>new Promise((r=>r(n.load(e))))));return Promise.all(r)}(i),n=await new Promise((e=>(new a.Tap).load("./assets/textures/fluid.jpg",e)));let r=0;const v=new a.BKk({uniforms:{currentImage:{value:e[r]},nextImage:{value:e[(r+1)%e.length]},disp:{value:n},dispFactor:{value:0},uImageAspect:{value:1.33},uPlaneAspect:{value:window.innerWidth/window.innerHeight}},vertexShader:"      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n      }",fragmentShader:"varying vec2 vUv;\nuniform sampler2D currentImage;\nuniform sampler2D nextImage;\nuniform sampler2D disp;\nuniform float dispFactor;\nuniform float uImageAspect;\nuniform float uPlaneAspect;\n\nvoid main() {\n    vec2 ratio = vec2(\n        min(uPlaneAspect / uImageAspect, 1.0),\n        min((1.0 / uPlaneAspect) / (1.0 / uImageAspect), 1.0)\n    );\n    vec2 fixedUv = vec2(\n        (vUv.x - 0.5) * ratio.x + 0.5,\n        (vUv.y - 0.5) * ratio.y + 0.5\n    );\n    vec2 uv = fixedUv;\n    vec4 dispMap = texture2D(disp, uv);\n    // ディスプレイスメント値を[-1, 1]の範囲に調整\n    vec2 dispValue = dispMap.rg * 2.0 - 1.0;\n    vec2 calcPosition = uv + dispValue * (1.0 - dispFactor) * 0.9;\n\n    vec4 _currentImage = texture2D(currentImage, fixedUv);\n    vec4 _nextImage = texture2D(nextImage, calcPosition);\n\n    vec4 finalTexture = mix(_currentImage, _nextImage, dispFactor);\n    gl_FragColor = finalTexture;\n}\n",transparent:!0}),c=new a.bdM(2,window.innerHeight/window.innerWidth*2),l=new a.eaF(c,v);s.add(l);const m=()=>{requestAnimationFrame(m),o.render(s,u)};m(),setInterval((function(){const n=(r+1)%e.length;v.uniforms.nextImage.value=e[n],t.os.to(v.uniforms.dispFactor,{value:1,duration:1,ease:"power2.inOut",onComplete:()=>{v.uniforms.currentImage.value=e[n],v.uniforms.nextImage.value=e[(n+1)%e.length],v.uniforms.dispFactor.value=0,r=n}})}),3e3)}().catch((e=>console.error(e)))}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var i=r[e]={exports:{}};return n[e](i,i.exports,a),i.exports}a.m=n,e=[],a.O=(n,r,t,i)=>{if(!r){var o=1/0;for(c=0;c<e.length;c++){for(var[r,t,i]=e[c],s=!0,u=0;u<r.length;u++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](r[u])))?r.splice(u--,1):(s=!1,i<o&&(o=i));if(s){e.splice(c--,1);var v=t();void 0!==v&&(n=v)}}return n}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,t,i]},a.d=(e,n)=>{for(var r in n)a.o(n,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={792:0};a.O.j=n=>0===e[n];var n=(n,r)=>{var t,i,[o,s,u]=r,v=0;if(o.some((n=>0!==e[n]))){for(t in s)a.o(s,t)&&(a.m[t]=s[t]);if(u)var c=u(a)}for(n&&n(r);v<o.length;v++)i=o[v],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},r=self.webpackChunkthree_shader_env01=self.webpackChunkthree_shader_env01||[];r.forEach(n.bind(null,0)),r.push=n.bind(null,r.push.bind(r))})();var t=a.O(void 0,[356],(()=>a(313)));t=a.O(t)})();